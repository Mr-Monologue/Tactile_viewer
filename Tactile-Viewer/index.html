<!DOCTYPE html>
<html lang="zh-CN">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>触觉演示</title>
  <!-- ================== 1. 添加 Favicon (请确保public文件夹里有favicon.svg或.png) ================== -->
  <link rel="icon" type="image/svg+xml" href="/favicon.png" />
  <!-- ========================================================================================== -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
</head>

<body>
  <!-- ================== 2. 新增：极光背景层 ================== -->
  <div id="background-layer" class="aurora-container"></div>
  <!-- ======================================================= -->
  <div id="app">
    <div id="main-content">
      <div id="viewport">
        <div id="status-overlay">当前为虚拟数据展示</div>
        <div id="toolbar">
          <div class="toolbar-icon" data-panel="device-panel"><i class="fa-solid fa-unlink"></i></div>
          <div class="toolbar-icon" data-panel="model-panel"><i class="fa-solid fa-cube"></i></div>
          <div class="toolbar-icon" data-panel="display-panel"><i class="fa-solid fa-video"></i></div>
        </div>
        <div class="dock-panel" id="device-panel">
          <div class="panel-title">设备控制</div>
          <div id="device-status" class="status-indicator">
            <span class="status-icon"></span>
            <span class="status-text">未初始化</span>
          </div>
          <button id="btnConnect" class="btn">连接设备</button>
        </div>
        <div class="dock-panel" id="model-panel">
          <div class="panel-title">模型操作</div>
          <input type="file" id="file" accept=".glb,.gltf,model/gltf-binary,model/gltf+json" />
          <label for="file" class="btn">选择 GLB</label>
          <button id="btnResample" class="btn">重新采样</button>
          <button id="btnReset" class="btn">重置视角</button>
        </div>
        <div class="dock-panel" id="display-panel">
          <div class="panel-title">显示设置</div>
          <label class="switch" for="chkAuto">
            <span>自动旋转</span>
            <input id="chkAuto" type="checkbox" checked />
          </label>

          <label class="switch" for="chkBg">
            <span>纯色背景</span>
            <input id="chkBg" type="checkbox" />
          </label>
        </div>
        <!-- ================== 数据面板：拆分为4个独立图表 ================== -->
        <div id="data-panel">
          <!-- X轴图表 (占1份) -->
          <div class="chart-widget chart-flex-1">
            <div class="panel-title" style="color: #ff5252;">X 轴偏移</div>
            <div class="panel-content">
              <div id="x-chart-container" style="position: relative; flex: 1;">
                <canvas id="x-chart"></canvas>
              </div>
            </div>
          </div>

          <!-- Y轴图表 (占1份) -->
          <div class="chart-widget chart-flex-1">
            <div class="panel-title" style="color: #69f0ae;">Y 轴偏移</div>
            <div class="panel-content">
              <div id="y-chart-container" style="position: relative; flex: 1;">
                <canvas id="y-chart"></canvas>
              </div>
            </div>
          </div>

          <!-- Z轴图表 (占2份) -->
          <div class="chart-widget chart-flex-2">
            <div class="panel-title" style="color: #448aff;">Z 轴 (原始压力)</div>
            <div class="panel-content">
              <div id="z-chart-container" style="position: relative; flex: 1;">
                <canvas id="z-chart"></canvas>
              </div>
            </div>
          </div>

          <!-- 力值图表 (占2份) -->
          <div class="chart-widget chart-flex-2">
            <div class="panel-title" style="color: #ffc300;">标定力曲线 (N)</div>
            <div class="panel-content">
              <div id="force-chart-container" style="position: relative; flex: 1;">
                <canvas id="force-chart"></canvas>
              </div>
            </div>
          </div>
        </div>
        <!-- =============================================================== -->
      </div>
    </div>
    <div id="hud">
      <span id="info">未加载模型</span>
      <span id="stats"></span>
    </div>
  </div>
  <!-- ================== 重新添加消息通知栏 ================== -->
  <div id="toast-notification"></div>
  <!-- ======================================================= -->
  <script type="module" src="/src/main.js"></script>
</body>

</html>